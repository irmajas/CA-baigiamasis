{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\KomentaruAts\\\\index.js\";\nimport React, { useState } from 'react';\nimport './index.css';\nimport { useFetch } from \"../utils/fetch-hook\";\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { put } from \"../utils/put\";\n\nclass Komentarai extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      komentarailist: [],\n      loadingis: false\n    };\n    this.dochange = this.dochange.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n\n    if (this.props.value !== 0) {\n      const url = API_ENDPOINTS.komentaras + \"/\" + this.props.value;\n      this.setState({\n        loadingis: true\n      });\n\n      try {\n        const response = fetch(\"\".concat(API_DOMAIN).concat(url));\n        const json = response.json();\n        console.log(\"gauta\");\n        console.log(json);\n\n        if (!response.ok) {\n          throw Error(response.statusText);\n        } else {\n          this.setState({\n            komentarailist: json,\n            isloading: false\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  dochange(id, e) {\n    let eev = e.currentTarget;\n    this.setState(prevState => {\n      const komentarailist = prevState.komentarailist.map(item => {\n        if (item.id === id) {\n          item.atsakymas = eev.value;\n        }\n\n        return item;\n      });\n      return {\n        klausimailist: komentarailist,\n        isloading: false\n      };\n    });\n  }\n\n  saveats(id) {// const url = API_ENDPOINTS.uptadeKomentras + \"/\" + id\n    // const response = put(url, this.state.komentarailist[id - 1])\n  }\n\n  render() {\n    let komentarailistas = this.state.komentarailist;\n    console.log(komentarailistas);\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Komentarai\"), this.state.isloading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Loading...\") : komentarailistas.map(data => React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      key: data.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \" \", data.autorius, \"  \", data.komentdata, \" \", data.id), React.createElement(\"div\", {\n      className: \"tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, data.komentaras), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"J\\u016Bs\\u0173 atsakymas \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"atsakymas\",\n      key: data.id,\n      value: data.atsakymas,\n      onChange: e => this.dochange(data.id, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      onClick: () => this.saveats(data.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Atsakyti\"))))));\n  }\n\n}\n\nexport default Komentarai;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\KomentaruAts\\index.js"],"names":["React","useState","useFetch","API_ENDPOINTS","API_DOMAIN","put","Komentarai","Component","constructor","props","state","komentarailist","loadingis","dochange","bind","componentDidMount","console","log","value","url","komentaras","setState","response","fetch","json","ok","Error","statusText","isloading","error","id","e","eev","currentTarget","prevState","map","item","atsakymas","klausimailist","saveats","render","komentarailistas","data","autorius","komentdata"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './index.css';\r\nimport { useFetch } from \"../utils/fetch-hook\";\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\nimport { API_DOMAIN } from \"../utils/constants\";\r\nimport { put } from \"../utils/put\";\r\n\r\n\r\n\r\nclass Komentarai extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      komentarailist: [],\r\n      loadingis: false\r\n\r\n    }\r\n    this.dochange = this.dochange.bind(this)\r\n  }\r\n  componentDidMount() {\r\n    console.log(this.props)\r\n    if (this.props.value !== 0) {\r\n\r\n      const url = API_ENDPOINTS.komentaras + \"/\" + this.props.value;\r\n      this.setState({ loadingis: true })\r\n      try {\r\n      const response =  fetch(`${API_DOMAIN}${url}`)\r\n      const json =  response.json();\r\n   \r\n          console.log(\"gauta\")\r\n          console.log(json);\r\n          if (!response.ok) {\r\n            throw Error(response.statusText);\r\n          } else {\r\n          this.setState({\r\n            komentarailist: json,\r\n            isloading: false\r\n          })\r\n        }\r\n        }\r\n        catch (error) {\r\n          console.log(error);\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n  dochange(id, e) {\r\n\r\n    let eev = e.currentTarget\r\n    this.setState(prevState => {\r\n      const komentarailist = prevState.komentarailist.map((item) => {\r\n        if (item.id === id) {\r\n\r\n          item.atsakymas = eev.value\r\n        }\r\n        return item\r\n\r\n      });\r\n      return {\r\n        klausimailist: komentarailist,\r\n        isloading: false\r\n      }\r\n    })\r\n\r\n  }\r\n  saveats(id) {\r\n    // const url = API_ENDPOINTS.uptadeKomentras + \"/\" + id\r\n    // const response = put(url, this.state.komentarailist[id - 1])\r\n  }\r\n\r\n  render() {\r\n    let komentarailistas = this.state.komentarailist;\r\n    console.log(komentarailistas)\r\n    return (\r\n      <section>\r\n        <h4>Komentarai</h4>\r\n        {this.state.isloading ? <div>Loading...</div> :\r\n          komentarailistas.map(data =>\r\n            (\r\n              <form>\r\n                <div key={data.id}>\r\n\r\n                  <div className=\"data\"> {data.autorius}  {data.komentdata} {data.id}</div>\r\n                  <div className=\"tekstas\">{data.komentaras}</div>\r\n                  <div className=\"formlaukas\">\r\n                    <label>Jūsų atsakymas </label>\r\n                    <input type=\"text\" name=\"atsakymas\" key={data.id} value={data.atsakymas} onChange={(e) => this.dochange(data.id, e)} />\r\n                    <button className=\"formlaukas\" onClick={() => this.saveats(data.id)}>Atsakyti</button>\r\n                  </div>\r\n\r\n                </div>\r\n              </form>\r\n\r\n            )\r\n          )\r\n        }\r\n      </section>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Komentarai\r\n"]},"metadata":{},"sourceType":"module"}