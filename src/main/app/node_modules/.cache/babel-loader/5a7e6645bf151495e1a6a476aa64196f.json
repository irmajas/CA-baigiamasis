{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\KomentaruAts\\\\index.js\";\nimport React, { useState } from 'react';\nimport './index.css';\nimport { useFetch } from \"../utils/fetch-hook\";\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { put } from \"../utils/put\";\n\nfunction KomentaruAts(props) {\n  const irasid = props.value;\n  const komenturl = API_ENDPOINTS.komentaras + \"/\" + irasid;\n  const komenturladd = API_ENDPOINTS.addKomentaras + \"/\" + irasid;\n\n  const _useFetch = useFetch(komenturl),\n        loading = _useFetch.loading,\n        data = _useFetch.data,\n        setData = _useFetch.setData;\n\n  const editKomentaras = koment => {\n    setData([...data, koment]);\n  };\n\n  const clicked = async event => {\n    event.preventDefault();\n    if (!komentaras.atsakymas) return;\n    console.log(komentaras);\n    const response = await post(API_ENDPOINTS.addKomentaras + \"/\" + props.value, komentaras);\n    props.addKomentaras(response);\n    setKomentaras(initialFormState);\n  };\n\n  return React.createElement(\"section\", {\n    className: \"Komentarai\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"komentaras\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Komentarai\"), loading ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Loading...\") : data.map(Item));\n}\n\nfunction Item(props) {\n  const initialFormState = {\n    autorius: '',\n    komentaras: '',\n    atsakymas: ''\n  };\n\n  const _useState = useState(initialFormState),\n        _useState2 = _slicedToArray(_useState, 2),\n        komentaras = _useState2[0],\n        setKomentaras = _useState2[1];\n\n  const editKomentaras = async event => {\n    event.preventDefault();\n    if (!komentaras.autorius || !komentaras.komentaras) return;\n    console.log(komentaras);\n    const response = await put(API_ENDPOINTS.uptadeKomentras + \"/\" + props.value, komentaras);\n    props.addKomentaras(response);\n    setKomentaras(initialFormState);\n  };\n\n  const handleInputChange = event => {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    setKomentaras(_objectSpread({}, komentaras, {\n      [name]: value\n    }));\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: editKomentaras,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \" \", props.autorius, \"  \", props.komentdata), React.createElement(\"div\", {\n    className: \"tekstas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, props.komentaras), React.createElement(\"textarea\", {\n    type: \"text\",\n    cols: \"70\",\n    rows: \"3\",\n    name: \"komentaras\",\n    value: props.atsakymas,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    value: props.id,\n    onClick: clicked,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Atsakyti\")));\n}\n\nfunction AddKomentForm(props) {\n  const initialFormState = {\n    autorius: '',\n    komentaras: '',\n    atsakymas: ''\n  };\n\n  const _useState3 = useState(initialFormState),\n        _useState4 = _slicedToArray(_useState3, 2),\n        komentaras = _useState4[0],\n        setKomentaras = _useState4[1];\n\n  const handleInputChange = event => {\n    const _event$target2 = event.target,\n          name = _event$target2.name,\n          value = _event$target2.value;\n    setKomentaras(_objectSpread({}, komentaras, {\n      [name]: value\n    }));\n  };\n\n  const createKomentaras = async event => {\n    event.preventDefault();\n    if (!komentaras.autorius || !komentaras.komentaras) return;\n    console.log(komentaras);\n    const response = await post(API_ENDPOINTS.addKomentaras + \"/\" + props.value, komentaras);\n    props.addKomentaras(response);\n    setKomentaras(initialFormState);\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: createKomentaras,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"J\\u016Bs\\u0173 vardas \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"autorius\",\n    value: komentaras.autorius,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"J\\u016Bs\\u0173 komentaras\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    cols: \"70\",\n    rows: \"3\",\n    name: \"komentaras\",\n    value: komentaras.komentaras,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Prid\\u0117ti komentar\\u0105\"));\n}\n\nexport default KomentaruAts;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\KomentaruAts\\index.js"],"names":["React","useState","useFetch","API_ENDPOINTS","put","KomentaruAts","props","irasid","value","komenturl","komentaras","komenturladd","addKomentaras","loading","data","setData","editKomentaras","koment","clicked","event","preventDefault","atsakymas","console","log","response","post","setKomentaras","initialFormState","map","Item","autorius","uptadeKomentras","handleInputChange","target","name","komentdata","id","AddKomentForm","createKomentaras"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './index.css';\r\nimport {useFetch} from \"../utils/fetch-hook\";\r\nimport {API_ENDPOINTS} from \"../utils/constants\";\r\nimport {put} from \"../utils/put\";\r\n\r\n\r\nfunction KomentaruAts(props){\r\n  const irasid=props.value;\r\n     const komenturl=API_ENDPOINTS.komentaras+\"/\"+irasid;\r\n     const komenturladd=API_ENDPOINTS.addKomentaras+\"/\"+irasid;\r\n    const {loading, data, setData} = useFetch(komenturl);\r\n\r\n    const editKomentaras = koment => {\r\n        setData([...data, koment])\r\n      };\r\n      const clicked = async event => {\r\n        event.preventDefault();\r\n        if (!komentaras.atsakymas) return;\r\n      console.log(komentaras);\r\n        const response = await post(API_ENDPOINTS.addKomentaras+\"/\"+props.value, komentaras);\r\n\r\n        props.addKomentaras(response);\r\n        setKomentaras(initialFormState)\r\n      };\r\n    return (\r\n        <section className=\"Komentarai\">\r\n          <h5 className=\"komentaras\">Komentarai</h5>\r\n          {loading ?\r\n            <div>Loading...</div>\r\n            :\r\n            data.map(Item)\r\n          }\r\n       {/*      <AddKomentForm addKomentaras={addKomentaras} value={irasid}/>*/}\r\n        </section>\r\n      );\r\n    }\r\n    function Item(props) {\r\n      const initialFormState = {autorius: '', komentaras: '', atsakymas:''};\r\n      const [komentaras, setKomentaras] = useState(initialFormState);\r\n              const editKomentaras = async event => {\r\n                event.preventDefault();\r\n                if (!komentaras.autorius || !komentaras.komentaras) return;\r\n              console.log(komentaras);\r\n                const response = await put(API_ENDPOINTS.uptadeKomentras+\"/\"+props.value, komentaras);\r\n\r\n                props.addKomentaras(response);\r\n                setKomentaras(initialFormState)\r\n              };\r\n      const handleInputChange = event => {\r\n        const {name, value} = event.target;\r\n\r\n        setKomentaras({...komentaras, [name]: value})\r\n      };\r\n        return (\r\n\r\n    <form onSubmit={editKomentaras}>\r\n        <div>\r\n             <div className=\"data\"> {props.autorius}  {props.komentdata}</div>\r\n             <div className=\"tekstas\">{props.komentaras}</div>\r\n             {/* <div className=\"atsakymas\">{props.atsakymas}</div>*/}\r\n              <textarea type=\"text\" cols=\"70\"  rows=\"3\" name=\"komentaras\" value={props.atsakymas} onChange={handleInputChange}/>\r\n            <button  value={props.id} onClick={clicked}>Atsakyti</button>\r\n                 </div>\r\n                   </form>\r\n\r\n        );\r\n      }\r\n      function AddKomentForm(props) {\r\n        const initialFormState = {autorius: '', komentaras: '', atsakymas:''};\r\n        const [komentaras, setKomentaras] = useState(initialFormState);\r\n\r\n        const handleInputChange = event => {\r\n          const {name, value} = event.target;\r\n\r\n          setKomentaras({...komentaras, [name]: value})\r\n        };\r\n\r\n        const createKomentaras = async event => {\r\n          event.preventDefault();\r\n          if (!komentaras.autorius || !komentaras.komentaras) return;\r\n        console.log(komentaras);\r\n          const response = await post(API_ENDPOINTS.addKomentaras+\"/\"+props.value, komentaras);\r\n\r\n          props.addKomentaras(response);\r\n          setKomentaras(initialFormState)\r\n        };\r\n\r\n        return (\r\n          <form onSubmit={createKomentaras}>\r\n          <div className=\"formlaukas\">\r\n          <label>Jūsų vardas </label>\r\n            <input type=\"text\" name=\"autorius\" value={komentaras.autorius} onChange={handleInputChange}/>\r\n          </div>\r\n<div  className=\"formlaukas\">\r\n                <label>Jūsų komentaras</label>\r\n            <textarea type=\"text\" cols=\"70\"  rows=\"3\" name=\"komentaras\" value={komentaras.komentaras} onChange={handleInputChange}/>\r\n</div>\r\n\r\n            <button className=\"formlaukas\">Pridėti komentarą</button>\r\n          </form>\r\n        )\r\n      }\r\nexport default KomentaruAts;\r\n"]},"metadata":{},"sourceType":"module"}