{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\Komentarai\\\\index.js\";\nimport React, { useState } from 'react';\nimport './index.css';\nimport { useFetch } from \"../utils/fetch-hook\";\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { post } from \"../utils/post\";\n\nfunction Komentarai(props) {\n  const irasid = props.value;\n  const komenturl = API_ENDPOINTS.komentaras + \"/\" + irasid;\n\n  const _useFetch = useFetch(komenturl),\n        loading = _useFetch.loading,\n        data = _useFetch.data,\n        setData = _useFetch.setData;\n\n  const addKomentaras = koment => {\n    setData([...data, koment]);\n  };\n\n  return React.createElement(\"section\", {\n    className: \"Komentarai\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"komentaras\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Komentarai\"), loading ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \"Loading...\") : data.map(Item), React.createElement(AddKomentForm, {\n    addKomentaras: addKomentaras,\n    value: irasid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }));\n}\n\nfunction Item(props) {\n  return React.createElement(\"div\", {\n    key: props.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \" \", props.autorius, \"  \", props.komentdata), React.createElement(\"div\", {\n    className: \"tekstas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, props.komentaras), React.createElement(\"div\", {\n    className: \"atsakymas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, props.atsakymas));\n}\n\nfunction AddKomentForm(props) {\n  const initialFormState = {\n    autorius: '',\n    komentaras: ''\n  };\n\n  const _useState = useState(initialFormState),\n        _useState2 = _slicedToArray(_useState, 2),\n        komentaras = _useState2[0],\n        setKomentaras = _useState2[1];\n\n  const handleInputChange = event => {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    setKomentaras(_objectSpread({}, komentaras, {\n      [name]: value\n    }));\n  };\n\n  const createKomentaras = async event => {\n    event.preventDefault();\n    if (!komentaras.autorius || !komentaras.komentaras) return;\n    console.log(komentaras);\n    const response = await post(API_ENDPOINTS.addKomentaras + \"/\" + props.value, komentaras);\n    props.addKomentaras(response);\n    setKomentaras(initialFormState);\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: createKomentaras,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"J\\u016Bs\\u0173 vardas \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"autorius\",\n    value: komentaras.autorius,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"J\\u016Bs\\u0173 komentaras\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    cols: \"70\",\n    rows: \"3\",\n    name: \"komentaras\",\n    value: komentaras.komentaras,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Prid\\u0117ti komentar\\u0105\"));\n}\n\nexport default Komentarai;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\Komentarai\\index.js"],"names":["React","useState","useFetch","API_ENDPOINTS","post","Komentarai","props","irasid","value","komenturl","komentaras","loading","data","setData","addKomentaras","koment","map","Item","id","autorius","komentdata","atsakymas","AddKomentForm","initialFormState","setKomentaras","handleInputChange","event","target","name","createKomentaras","preventDefault","console","log","response"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './index.css';\r\nimport { useFetch } from \"../utils/fetch-hook\";\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\nimport { post } from \"../utils/post\";\r\n\r\n\r\nfunction Komentarai(props) {\r\n  const irasid = props.value;\r\n  const komenturl = API_ENDPOINTS.komentaras + \"/\" + irasid;\r\n  const { loading, data, setData } = useFetch(komenturl);\r\n\r\n  const addKomentaras = koment => {\r\n    setData([...data, koment])\r\n  };\r\n\r\n  return (\r\n    <section className=\"Komentarai\">\r\n      <h5 className=\"komentaras\">Komentarai</h5>\r\n      {loading ?\r\n        <div>Loading...</div>\r\n        :\r\n        data.map(Item)\r\n      }\r\n      <AddKomentForm addKomentaras={addKomentaras} value={irasid} />\r\n    </section>\r\n  );\r\n}\r\nfunction Item(props) {\r\n\r\n  return (\r\n    <div key={props.id}>\r\n\r\n      <div className=\"data\"> {props.autorius}  {props.komentdata}</div>\r\n      <div className=\"tekstas\">{props.komentaras}</div>\r\n      <div className=\"atsakymas\">{props.atsakymas}</div>\r\n\r\n      {/* <button  value={props.data.id} onClick={clicked}>Delete</button> */}\r\n    </div>\r\n  );\r\n}\r\nfunction AddKomentForm(props) {\r\n  const initialFormState = { autorius: '', komentaras: '' };\r\n  const [komentaras, setKomentaras] = useState(initialFormState);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    setKomentaras({ ...komentaras, [name]: value })\r\n  };\r\n\r\n  const createKomentaras = async event => {\r\n    event.preventDefault();\r\n    if (!komentaras.autorius || !komentaras.komentaras) return;\r\n    console.log(komentaras);\r\n    const response = await post(API_ENDPOINTS.addKomentaras + \"/\" + props.value, komentaras);\r\n\r\n    props.addKomentaras(response);\r\n    setKomentaras(initialFormState)\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={createKomentaras}>\r\n      <div className=\"formlaukas\">\r\n        <label>Jūsų vardas </label>\r\n        <input type=\"text\" name=\"autorius\" value={komentaras.autorius} onChange={handleInputChange} />\r\n      </div>\r\n      <div className=\"formlaukas\">\r\n        <label>Jūsų komentaras</label>\r\n        <textarea type=\"text\" cols=\"70\" rows=\"3\" name=\"komentaras\" value={komentaras.komentaras} onChange={handleInputChange} />\r\n      </div>\r\n\r\n      <button className=\"formlaukas\">Pridėti komentarą</button>\r\n    </form>\r\n  )\r\n}\r\nexport default Komentarai;\r\n"]},"metadata":{},"sourceType":"module"}