{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { useEffect, useState } from \"react\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { async } from 'q';\nimport KomentaruAts from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\"; // function IrasasEdit(props){\n\nclass IrasasEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clicked = async event => {\n      if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + this.state.pavadinimas + \"?\")) {\n        const value = event.target.value;\n        const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + this.state.irasid;\n        const response = await delrest(urlas);\n      }\n    };\n\n    this.state = {\n      irasid: 1,\n      url: API_ENDPOINTS.vienasirasas + \"/\" + this.state.irasid,\n      pavadinimas: 'pavadinimas',\n      tekstas: 'tekstass',\n      irasodata: '2019-01-01' //  editIrasas : irasas => {\n      // this.setState( {irasas.pavadinimas});\n      //   setTekstas(irasas.tekstas);\n      //      },\n\n    };\n    this.handleGet();\n  }\n\n  handleGet() {\n    const updateInfo = async () => {\n      const data = await fetch(\"\".concat(API_DOMAIN).concat(this.state.url)).then(result => result.json());\n      this.setState({\n        pavadinimas: data.pavadinimas\n      });\n      this.setState({\n        tekstas: data.tekstas\n      });\n      this.setState({\n        irasodata: data.irasodata\n      });\n    };\n\n    updateInfo();\n  }\n\n  EditIrasasForm(props) {\n    // initialFormState=this.state;\n    const initialFormState = {\n      pavadinimas: 'DFGDFGD',\n      tekstas: 'CFGFGHFG'\n    };\n\n    const handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      setIrasas(_objectSpread({}, irasas, {\n        [name]: value\n      }));\n    };\n\n    const editIrasas = async event => {\n      event.preventDefault();\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\n      props.editIrasas(response);\n    };\n\n    return React.createElement(\"form\", {\n      onSubmit: editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"3\",\n      name: \"pavadinimas\",\n      defaultValue: props.pavadinimas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Tekstas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"35\",\n      name: \"tekstas\",\n      defaultValue: props.tekstas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"\\u012Era\\u0161yti\"));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Irasas--visas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"Irasas--Pavadinimas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.pavadinimas), React.createElement(\"p\", {\n      className: \"Irasas--data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.irasodata), React.createElement(\"hr\", {\n      className: \"Irasas--separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"Irasas--Tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \" \", this.state.tekstas), React.createElement(\"button\", {\n      value: this.state.irasid,\n      onClick: this.clicked,\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Pa\\u0161alinti \\u012Fra\\u0161a\"), React.createElement(this.EditIrasasForm, {\n      pavadinimas: this.state.pavadinimas,\n      tekstas: this.state.tekstas,\n      id: this.state.irasid,\n      editIrasas: this.state.editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(KomentaruAts, {\n      value: this.state.irasid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","useEffect","useState","API_DOMAIN","async","KomentaruAts","put","delrest","IrasasEdit","Component","constructor","props","clicked","event","window","confirm","state","pavadinimas","value","target","urlas","deleteIrasas","irasid","response","url","vienasirasas","tekstas","irasodata","handleGet","updateInfo","data","fetch","then","result","json","setState","EditIrasasForm","initialFormState","handleInputChange","name","setIrasas","irasas","editIrasas","preventDefault","updateIrasas","id","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { API_DOMAIN } from \"../utils/constants\";\r\nimport { async } from 'q';\r\nimport KomentaruAts from '../KomentaruAts';\r\nimport { put } from \"../utils/put\";\r\nimport { delrest } from \"../utils/delete\";\r\n\r\n// function IrasasEdit(props){\r\nclass IrasasEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      irasid: 1,\r\n      url: API_ENDPOINTS.vienasirasas + \"/\" + this.state.irasid,\r\n      pavadinimas: 'pavadinimas',\r\n      tekstas: 'tekstass',\r\n      irasodata: '2019-01-01',\r\n\r\n      //  editIrasas : irasas => {\r\n      // this.setState( {irasas.pavadinimas});\r\n      //   setTekstas(irasas.tekstas);\r\n      //      },\r\n\r\n    };\r\n    this.handleGet();\r\n  }\r\n\r\n\r\n  handleGet() {\r\n    const updateInfo = async () => {\r\n      const data = await fetch(`${API_DOMAIN}${this.state.url}`)\r\n        .then(result => result.json())\r\n      this.setState({ pavadinimas: data.pavadinimas });\r\n      this.setState({ tekstas: data.tekstas });\r\n      this.setState({ irasodata: data.irasodata });\r\n    };\r\n    updateInfo();\r\n  };\r\n\r\n  clicked = async event => {\r\n    if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + this.state.pavadinimas + \"?\")) {\r\n      const { value } = event.target;\r\n      const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + this.state.irasid\r\n      const response = await delrest(urlas)\r\n    }\r\n  }\r\n  EditIrasasForm(props) {\r\n    // initialFormState=this.state;\r\n    const initialFormState = { pavadinimas: 'DFGDFGD', tekstas: 'CFGFGHFG' };\r\n\r\n\r\n    const handleInputChange = event => {\r\n      const { name, value } = event.target;\r\n\r\n      setIrasas({ ...irasas, [name]: value })\r\n    };\r\n\r\n    const editIrasas = async event => {\r\n      event.preventDefault();\r\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\r\n\r\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\r\n\r\n      props.editIrasas(response);\r\n\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={editIrasas}>\r\n        <div className=\"formlaukas\">\r\n          <label>Pavadinimas</label>\r\n          <textarea type=\"text\" cols=\"80\" rows=\"3\" name=\"pavadinimas\" defaultValue={props.pavadinimas} onChange={handleInputChange} />\r\n        </div>\r\n        <div className=\"formlaukas\">\r\n          <label>Tekstas</label>\r\n          <textarea type=\"text\" cols=\"80\" rows=\"35\" name=\"tekstas\" defaultValue={props.tekstas} onChange={handleInputChange} />\r\n        </div>\r\n        <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"Irasas--visas\">\r\n        <h1 className=\"Irasas--Pavadinimas\">{this.state.pavadinimas}</h1>\r\n        <p className=\"Irasas--data\">{this.state.irasodata}</p>\r\n        <hr className=\"Irasas--separator\" />\r\n        <p className=\"Irasas--Tekstas\"> {this.state.tekstas}</p>\r\n        <button value={this.state.irasid} onClick={this.clicked} className=\"formlaukas\">Pašalinti įraša</button>\r\n        <this.EditIrasasForm pavadinimas={this.state.pavadinimas} tekstas={this.state.tekstas} id={this.state.irasid} editIrasas={this.state.editIrasas} />\r\n        <KomentaruAts value={this.state.irasid} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}