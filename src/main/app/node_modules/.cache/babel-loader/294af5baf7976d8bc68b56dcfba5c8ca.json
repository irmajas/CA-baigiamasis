{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport Komentarai from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\";\n\nclass IrasasEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      irasas: {\n        id: this.props.value,\n        pavadinimas: \"\",\n        tekstas: \"\",\n        irasodata: \"\"\n      },\n      loadingis: true\n    };\n    this.dochange = this.dochange.bind(this);\n    this.updateIrasas = this.updateIrasas.bind(this);\n    this.deleteIrasas = this.deleteIrasas.bind(this);\n  }\n\n  componentDidUpdate(props) {\n    const _this$props = this.props,\n          refresh = _this$props.refresh,\n          value = _this$props.value;\n    const url = API_ENDPOINTS.vienasirasas + \"/\" + value;\n\n    if (props.refresh !== refresh) {\n      this.setState({\n        loadingis: true\n      });\n      fetch(\"\".concat(API_DOMAIN).concat(url)).then(response => response.json()).then(data => {\n        this.setState({\n          irasas: {\n            id: data.id,\n            pavadinimas: data.pavadinimas,\n            tekstas: data.tekstas,\n            irasodata: data.irasodata\n          },\n          loadingis: false\n        });\n      });\n    }\n  }\n\n  componentDidMount() {\n    const url = API_ENDPOINTS.vienasirasas + \"/\" + this.props.value;\n    this.setState({\n      loadingis: true\n    });\n    fetch(\"\".concat(API_DOMAIN).concat(url)).then(response => response.json()).then(data => {\n      this.setState({\n        irasas: {\n          id: data.id,\n          pavadinimas: data.pavadinimas,\n          tekstas: data.tekstas,\n          irasodata: data.irasodata\n        },\n        loadingis: false\n      });\n    });\n  }\n\n  dochange(e) {\n    this.setState({\n      irasas: Object.assign({}, this.state.irasas, {\n        [e.target.name]: e.target.value\n      }),\n      loadingis: {}\n    });\n    console.log(this.state);\n  }\n\n  updateIrasas() {\n    const url = API_ENDPOINTS.updateIrasas + \"/\" + this.props.value;\n    const response = put(url, this.state.irasas);\n  }\n\n  deleteIrasas() {\n    if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą ?\")) {\n      const url = API_ENDPOINTS.deleteIrasas + \"/\" + this.props.value;\n      const response = delrest(url);\n      this.props.handler3();\n    }\n  }\n\n  render() {\n    let pavadin = this.state.irasas.pavadinimas;\n    let tekst = this.state.irasas.tekstas;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.isloading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Loading...\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.updateIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Paskutin\\u0117 \\u012Fra\\u0161o redagavimo data: \", this.state.irasas.irasodata), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      onClick: this.deleteIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Pa\\u0161alinti \\u012Fra\\u0161\\u0105 \")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u012Era\\u0161yti\"), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"3\",\n      name: \"pavadinimas\",\n      value: pavadin,\n      onChange: this.dochange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Tekstas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"35\",\n      name: \"tekstas\",\n      value: tekst,\n      onChange: this.dochange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","API_DOMAIN","Komentarai","put","delrest","IrasasEdit","Component","constructor","props","state","irasas","id","value","pavadinimas","tekstas","irasodata","loadingis","dochange","bind","updateIrasas","deleteIrasas","componentDidUpdate","refresh","url","vienasirasas","setState","fetch","then","response","json","data","componentDidMount","e","Object","assign","target","name","console","log","window","confirm","handler3","render","pavadin","tekst","isloading"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\nimport { API_DOMAIN } from \"../utils/constants\";\r\nimport Komentarai from '../KomentaruAts';\r\nimport { put } from \"../utils/put\";\r\nimport { delrest } from \"../utils/delete\";\r\n\r\nclass IrasasEdit extends React.Component {\r\n  constructor(props) {\r\n\r\n    super(props)\r\n    this.state = {\r\n      irasas: {\r\n        id: this.props.value,\r\n        pavadinimas: \"\",\r\n        tekstas: \"\",\r\n        irasodata: \"\"\r\n      },\r\n      loadingis: true\r\n    }\r\n    this.dochange = this.dochange.bind(this)\r\n    this.updateIrasas = this.updateIrasas.bind(this)\r\n    this.deleteIrasas = this.deleteIrasas.bind(this)\r\n  }\r\n  componentDidUpdate(props) {\r\n\r\n    const { refresh, value } = this.props;\r\n    const url = API_ENDPOINTS.vienasirasas + \"/\" + value;\r\n    if (props.refresh !== refresh) {\r\n      this.setState({ loadingis: true })\r\n      fetch(`${API_DOMAIN}${url}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          this.setState({\r\n            irasas: {\r\n              id: data.id,\r\n              pavadinimas: data.pavadinimas,\r\n              tekstas: data.tekstas,\r\n              irasodata: data.irasodata\r\n            },\r\n            loadingis: false\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    const url = API_ENDPOINTS.vienasirasas + \"/\" + this.props.value;\r\n    this.setState({ loadingis: true })\r\n    fetch(`${API_DOMAIN}${url}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.setState({\r\n          irasas: {\r\n            id: data.id,\r\n            pavadinimas: data.pavadinimas,\r\n            tekstas: data.tekstas,\r\n            irasodata: data.irasodata\r\n          },\r\n          loadingis: false\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n  dochange(e) {\r\n    this.setState({\r\n      irasas: Object.assign(\r\n        {},\r\n        this.state.irasas,\r\n        { [e.target.name]: e.target.value }\r\n      ),\r\n      loadingis: {}\r\n    })\r\n    console.log(this.state)\r\n  }\r\n  updateIrasas() {\r\n\r\n    const url = API_ENDPOINTS.updateIrasas + \"/\" + this.props.value\r\n    const response = put(url, this.state.irasas)\r\n\r\n  }\r\n  deleteIrasas() {\r\n    if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą ?\")) {\r\n      const url = API_ENDPOINTS.deleteIrasas + \"/\" + this.props.value\r\n      const response = delrest(url)\r\n      this.props.handler3()\r\n    }\r\n\r\n  }\r\n  render() {\r\n    let pavadin = this.state.irasas.pavadinimas\r\n    let tekst = this.state.irasas.tekstas\r\n    return (\r\n      <div>\r\n        {this.state.isloading ? <div>Loading...</div> :\r\n          <div>\r\n            <form onSubmit={this.updateIrasas}>\r\n              <div className=\"container\">\r\n                <p>Paskutinė įrašo redagavimo data: {this.state.irasas.irasodata}</p>\r\n                <button className=\"formlaukas\" onClick={this.deleteIrasas}>Pašalinti įrašą </button>\r\n              </div>\r\n              <br />\r\n\r\n              <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n\r\n              <div className=\"formlaukas\">\r\n                <label>Pavadinimas</label>\r\n                <textarea type=\"text\" cols=\"80\" rows=\"3\" name=\"pavadinimas\" value={pavadin} onChange={this.dochange} />\r\n              </div>\r\n              <div className=\"formlaukas\">\r\n                <label>Tekstas</label>\r\n                <textarea type=\"text\" cols=\"80\" rows=\"35\" name=\"tekstas\" value={tekst} onChange={this.dochange} />\r\n              </div>\r\n\r\n            </form>\r\n{/* \r\n            <Komentarai value={this.props.value} /> */}\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}