{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState, setData } from \"react\";\nimport { API_DOMAIN } from \"./constants\";\n\nconst useFetch = url => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loading = _useState4[0],\n        setLoading = _useState4[1]; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  async function fetchData() {\n    try {\n      const response = await fetch(\"\".concat(API_DOMAIN).concat(url));\n      const json = await response.json();\n\n      if (!response.ok) {\n        throw Error(response.statusText);\n      } else {\n        setData(json);\n        setLoading(false);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return {\n    loading,\n    data,\n    setData\n  };\n};\n\nexport { useFetch };","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\utils\\fetch-hook.js"],"names":["useEffect","useState","setData","API_DOMAIN","useFetch","url","data","loading","setLoading","fetchData","response","fetch","json","ok","Error","statusText","error","console","log"],"mappings":";AAAA,SAAQA,SAAR,EAAmBC,QAAnB,EAA6BC,OAA7B,QAA2C,OAA3C;AACA,SAAQC,UAAR,QAAyB,aAAzB;;AAEA,MAAMC,QAAQ,GAAGC,GAAG,IAAI;AAAA,oBACEJ,QAAQ,CAAC,IAAD,CADV;AAAA;AAAA,QACfK,IADe;AAAA,QACTJ,OADS;;AAAA,qBAEQD,QAAQ,CAAC,IAAD,CAFhB;AAAA;AAAA,QAEfM,OAFe;AAAA,QAENC,UAFM,kBAItB;;;AACA,iBAAeC,SAAf,GAA2B;AACzB,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMC,KAAK,WAAIR,UAAJ,SAAiBE,GAAjB,EAA5B;AAEA,YAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAT,EAAnB;;AAEA,UAAI,CAACF,QAAQ,CAACG,EAAd,EAAkB;AAChB,cAAMC,KAAK,CAACJ,QAAQ,CAACK,UAAV,CAAX;AACD,OAFD,MAEO;AACLb,QAAAA,OAAO,CAACU,IAAD,CAAP;AACAJ,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAXD,CAWE,OAAOQ,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;;AAEDhB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,SAAS;AACV,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AAACF,IAAAA,OAAD;AAAUD,IAAAA,IAAV;AAAgBJ,IAAAA;AAAhB,GAAP;AACD,CA3BD;;AA6BA,SAAQE,QAAR","sourcesContent":["import {useEffect, useState, setData} from \"react\";\r\nimport {API_DOMAIN} from \"./constants\";\r\n\r\nconst useFetch = url => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  async function fetchData() {\r\n    try {\r\n      const response = await fetch(`${API_DOMAIN}${url}`);\r\n   \r\n      const json = await response.json();\r\n    \r\n      if (!response.ok) {\r\n        throw Error(response.statusText);\r\n      } else {\r\n        setData(json);\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  return {loading, data, setData};\r\n};\r\n\r\nexport {useFetch};"]},"metadata":{},"sourceType":"module"}