{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { useEffect, useState } from \"react\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { async } from 'q';\nimport KomentaruAts from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\";\n\nfunction IrasasEdit(props) {\n  const irasid = props.value;\n  const url = API_ENDPOINTS.vienasirasas + \"/\" + irasid;\n\n  const _useState = useState('pavadinimas'),\n        _useState2 = _slicedToArray(_useState, 2),\n        pavadinimas = _useState2[0],\n        setPavadinimas = _useState2[1];\n\n  const _useState3 = useState('tekstass'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        tekstas = _useState4[0],\n        setTekstas = _useState4[1];\n\n  const _useState5 = useState('2019-01-01'),\n        _useState6 = _slicedToArray(_useState5, 2),\n        irasodata = _useState6[0],\n        setIrasoata = _useState6[1];\n\n  const editIrasas = irasas => {\n    setPavadinimas(irasas.pavadinimas);\n    setTekstas(irasas.tekstas);\n  };\n\n  useEffect(() => {\n    const updateInfo = async () => {\n      const data = await fetch(\"\".concat(API_DOMAIN).concat(url)).then(result => result.json());\n      setPavadinimas(data.pavadinimas);\n      setTekstas(data.tekstas);\n      setIrasoata(data.irasodata);\n    };\n\n    updateInfo();\n  }, []);\n  const message = \"'Ar tikrai norite pašalinti šį įrašą: \" + pavadinimas + \"?\";\n\n  const clicked = async event => {\n    if (window.confirm(message)) {\n      const value = event.target.value;\n      const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + irasid;\n      const response = await delrest(urlas);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Irasas--visas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"Irasas--Pavadinimas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, pavadinimas), React.createElement(\"p\", {\n    className: \"Irasas--data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, irasodata), React.createElement(\"hr\", {\n    className: \"Irasas--separator\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"Irasas--Tekstas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \" \", tekstas), React.createElement(\"button\", {\n    value: irasid,\n    onClick: clicked,\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Pa\\u0161alinti \\u012Fra\\u0161a\"), React.createElement(EditIrasasForm, {\n    pavadinimas: pavadinimas,\n    tekstas: tekstas,\n    id: irasid,\n    editIrasas: editIrasas,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(KomentaruAts, {\n    value: irasid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }));\n}\n\nfunction EditIrasasForm(props) {\n  const _props$pavadinimas = props.pavadinimas,\n        pavadinimas = _props$pavadinimas.pavadinimas,\n        setPavadinimas = _props$pavadinimas.setPavadinimas;\n  console.log(pavadinimas + \"pavasdiniasjfldajdfl\"); // const initialFormState = {pavadinimas: '', tekstas:''};\n\n  const initialFormState = \"{pavadinimas: '\" + props.pavadinimas + \"' tekstas:  \" + props.tekstas + \"'}\";\n  console.log(JSON.parse(JSON.stringify(initialFormState)));\n\n  const _useState7 = useState(initialFormState),\n        _useState8 = _slicedToArray(_useState7, 2),\n        irasas = _useState8[0],\n        setIrasas = _useState8[1];\n\n  console.log(\"initialFormState -----:\");\n  console.log(initialFormState);\n  console.log(\"irasas toks------:\");\n  console.log(irasas);\n\n  const handleInputChange = event => {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    setIrasas(_objectSpread({}, irasas, {\n      [name]: value\n    }));\n  };\n\n  const editIrasas = async event => {\n    event.preventDefault();\n    if (!irasas.pavadinimas || !irasas.tekstas) return;\n    const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\n    props.editIrasas(response);\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: editIrasas,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    cols: \"80\",\n    rows: \"3\",\n    name: \"pavadinimas\",\n    defaultValue: irasas.pavadinimas,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Tekstas\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    cols: \"80\",\n    rows: \"35\",\n    name: \"tekstas\",\n    value: irasas.tekstas,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"formlaukas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"\\u012Era\\u0161yti\"));\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","useEffect","useState","API_DOMAIN","async","KomentaruAts","put","delrest","IrasasEdit","props","irasid","value","url","vienasirasas","pavadinimas","setPavadinimas","tekstas","setTekstas","irasodata","setIrasoata","editIrasas","irasas","updateInfo","data","fetch","then","result","json","message","clicked","event","window","confirm","target","urlas","deleteIrasas","response","EditIrasasForm","console","log","initialFormState","JSON","parse","stringify","setIrasas","handleInputChange","name","preventDefault","updateIrasas","id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport {API_ENDPOINTS} from \"../utils/constants\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {API_DOMAIN} from \"../utils/constants\";\r\nimport { async } from 'q';\r\nimport KomentaruAts from '../KomentaruAts';\r\nimport {put} from \"../utils/put\";\r\nimport {delrest} from \"../utils/delete\";\r\n\r\nfunction IrasasEdit(props){\r\n\r\n    const irasid=props.value;\r\n\r\n    const url=API_ENDPOINTS.vienasirasas+\"/\"+irasid;\r\n    const [pavadinimas, setPavadinimas] = useState('pavadinimas');\r\n    const [tekstas, setTekstas] = useState('tekstass');\r\n    const [irasodata, setIrasoata] = useState('2019-01-01');\r\n\r\n    const editIrasas = irasas => {\r\n      setPavadinimas(irasas.pavadinimas);\r\n      setTekstas(irasas.tekstas);\r\n         };\r\n\r\n    useEffect(() => {\r\n        const updateInfo = async () => {\r\n            const data = await fetch(`${API_DOMAIN}${url}`)\r\n                .then(result => result.json())\r\n            setPavadinimas(data.pavadinimas);\r\n            setTekstas(data.tekstas);\r\n            setIrasoata(data.irasodata);\r\n                    };\r\n        updateInfo();\r\n    }, []);\r\n    const message= \"'Ar tikrai norite pašalinti šį įrašą: \"+pavadinimas+\"?\";\r\n    const clicked = async event => {\r\n    if(  window.confirm(message))\r\n    {\r\n      const {value} = event.target;\r\n      const urlas=API_ENDPOINTS.deleteIrasas+\"/\"+irasid\r\n      const response  = await delrest(urlas)\r\n    }\r\n    }\r\n return (\r\n     <div className=\"Irasas--visas\">\r\n         <h1 className=\"Irasas--Pavadinimas\">{pavadinimas}</h1>\r\n         <p className=\"Irasas--data\">{irasodata}</p>\r\n         <hr className=\"Irasas--separator\" />\r\n         <p className=\"Irasas--Tekstas\"> {tekstas}</p>\r\n         <button  value={irasid} onClick={clicked} className=\"formlaukas\">Pašalinti įraša</button>\r\n        <EditIrasasForm  pavadinimas={pavadinimas} tekstas={tekstas} id={irasid} editIrasas={editIrasas}/>\r\n      <KomentaruAts value={irasid} />\r\n     </div>\r\n )\r\n}\r\nfunction EditIrasasForm(props) {\r\n const  {pavadinimas, setPavadinimas} = props.pavadinimas;\r\n console.log(pavadinimas +\"pavasdiniasjfldajdfl\");\r\n  // const initialFormState = {pavadinimas: '', tekstas:''};\r\n \r\nconst initialFormState=\"{pavadinimas: '\"+props.pavadinimas+\"' tekstas:  \"+props.tekstas+\"'}\";\r\nconsole.log(JSON.parse(JSON.stringify(initialFormState)));\r\n    const [irasas, setIrasas] = useState(initialFormState);\r\n\r\n    console.log(\"initialFormState -----:\")\r\n\r\n    console.log(initialFormState);\r\n    console.log(\"irasas toks------:\")\r\n    console.log(irasas);\r\n\r\n    const handleInputChange = event => {\r\n      const {name, value} = event.target;\r\n\r\n      setIrasas({...irasas, [name]: value})\r\n    };\r\n\r\n    const editIrasas = async event => {\r\n      event.preventDefault();\r\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\r\n\r\n    const response = await put(API_ENDPOINTS.updateIrasas+\"/\"+props.id, irasas);\r\n\r\n    props.editIrasas(response);\r\n\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={editIrasas}>\r\n      <div className=\"formlaukas\">\r\n      <label>Pavadinimas</label>\r\n      <textarea type=\"text\" cols=\"80\"  rows=\"3\" name=\"pavadinimas\" defaultValue={irasas.pavadinimas} onChange={handleInputChange}/>\r\n      </div>\r\n      <div  className=\"formlaukas\">\r\n     <label>Tekstas</label>\r\n       <textarea type=\"text\" cols=\"80\"  rows=\"35\" name=\"tekstas\" value={irasas.tekstas} onChange={handleInputChange}/>\r\n     </div>\r\n        <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}