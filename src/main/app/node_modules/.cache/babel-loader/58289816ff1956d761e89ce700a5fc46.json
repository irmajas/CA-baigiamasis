{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { useEffect, useState } from \"react\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { async } from 'q';\nimport KomentaruAts from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\"; // function IrasasEdit(props){\n\nclass IrasasEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clicked = async event => {\n      if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + this.state.pavadinimas + \"?\")) {\n        const value = event.target.value;\n        const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + this.state.irasid;\n        const response = await delrest(urlas);\n      }\n    };\n\n    this.state = {\n      irasid: 1,\n      url: API_ENDPOINTS.vienasirasas + \"/\" + this.state.irasid,\n      pavadinimas: 'pavadinimas',\n      tekstas: 'tekstass',\n      irasodata: '2019-01-01' //  editIrasas : irasas => {\n      // this.setState( {irasas.pavadinimas});\n      //   setTekstas(irasas.tekstas);\n      //      },\n\n    };\n    this.handleGet();\n  }\n\n  handleGet() {\n    const updateInfo = async () => {\n      const data = await fetch(\"\".concat(API_DOMAIN).concat(this.state.url)).then(result => result.json());\n      this.setState({\n        pavadinimas: data.pavadinimas\n      });\n      this.setState({\n        tekstas: data.tekstas\n      });\n      this.setState({\n        irasodata: data.irasodata\n      });\n    };\n\n    updateInfo();\n  }\n\n  render() {\n    console.log(\"--------------------------------\" + pavadinimas);\n    return React.createElement(\"div\", {\n      className: \"Irasas--visas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"Irasas--Pavadinimas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.pavadinimas), React.createElement(\"p\", {\n      className: \"Irasas--data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.irasodata), React.createElement(\"hr\", {\n      className: \"Irasas--separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"Irasas--Tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \" \", this.state.tekstas), React.createElement(\"button\", {\n      value: this.state.irasid,\n      onClick: this.clicked,\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Pa\\u0161alinti \\u012Fra\\u0161a\"), React.createElement(this.EditIrasasForm, {\n      pavadinimas: this.state.pavadinimas,\n      tekstas: this.state.tekstas,\n      id: this.state.irasid,\n      editIrasas: this.state.editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(KomentaruAts, {\n      value: this.state.irasid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }));\n  }\n\n  EditIrasasForm(props) {\n    // initialFormState=this.state;\n    const initialFormState = {\n      pavadinimas: 'DFGDFGD',\n      tekstas: 'CFGFGHFG'\n    };\n\n    const handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      setIrasas(_objectSpread({}, irasas, {\n        [name]: value\n      }));\n    };\n\n    const editIrasas = async event => {\n      event.preventDefault();\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\n      props.editIrasas(response);\n    };\n\n    return React.createElement(\"form\", {\n      onSubmit: editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"3\",\n      name: \"pavadinimas\",\n      defaultValue: props.pavadinimas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Tekstas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"35\",\n      name: \"tekstas\",\n      defaultValue: props.tekstas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\u012Era\\u0161yti\"));\n  }\n\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","useEffect","useState","API_DOMAIN","async","KomentaruAts","put","delrest","IrasasEdit","Component","constructor","props","clicked","event","window","confirm","state","pavadinimas","value","target","urlas","deleteIrasas","irasid","response","url","vienasirasas","tekstas","irasodata","handleGet","updateInfo","data","fetch","then","result","json","setState","render","console","log","editIrasas","EditIrasasForm","initialFormState","handleInputChange","name","setIrasas","irasas","preventDefault","updateIrasas","id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport {API_ENDPOINTS} from \"../utils/constants\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {API_DOMAIN} from \"../utils/constants\";\r\nimport { async } from 'q';\r\nimport KomentaruAts from '../KomentaruAts';\r\nimport {put} from \"../utils/put\";\r\nimport {delrest} from \"../utils/delete\";\r\n\r\n// function IrasasEdit(props){\r\nclass IrasasEdit extends React.Component {\r\n  constructor ( props ) {\r\n    super(props);\r\n    this.state={\r\n       irasid:1,\r\n        url:API_ENDPOINTS.vienasirasas+\"/\"+this.state.irasid,\r\n       pavadinimas : 'pavadinimas',\r\n       tekstas :'tekstass',\r\n       irasodata : '2019-01-01',\r\n  \r\n      //  editIrasas : irasas => {\r\n      // this.setState( {irasas.pavadinimas});\r\n      //   setTekstas(irasas.tekstas);\r\n      //      },\r\n  \r\n          };\r\n          this.handleGet();\r\n  }\r\n\r\n\r\n   handleGet() {\r\n        const updateInfo = async () => {\r\n            const data = await fetch(`${API_DOMAIN}${this.state.url}`)\r\n                .then(result => result.json())\r\n           this.setState({pavadinimas: data.pavadinimas});\r\n           this.setState({tekstas: data.tekstas});\r\n           this.setState({irasodata: data.irasodata});\r\n                    };\r\n        updateInfo();\r\n    }; \r\n    \r\n     clicked = async event => {\r\n    if(  window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \"+this.state.pavadinimas+\"?\"))\r\n    {\r\n      const {value} = event.target;\r\n      const urlas=API_ENDPOINTS.deleteIrasas+\"/\"+this.state.irasid\r\n      const response  = await delrest(urlas)\r\n    }\r\n    }\r\n  \r\n render () {\r\n\r\n   console.log(\"--------------------------------\"+pavadinimas);\r\n  return (\r\n     <div className=\"Irasas--visas\">\r\n         <h1 className=\"Irasas--Pavadinimas\">{this.state.pavadinimas}</h1>\r\n         <p className=\"Irasas--data\">{this.state.irasodata}</p>\r\n         <hr className=\"Irasas--separator\" />\r\n         <p className=\"Irasas--Tekstas\"> {this.state.tekstas}</p>\r\n         <button  value={this.state.irasid} onClick={this.clicked} className=\"formlaukas\">Pašalinti įraša</button>\r\n        <this.EditIrasasForm  pavadinimas={this.state.pavadinimas} tekstas={this.state.tekstas} id={this.state.irasid} editIrasas={this.state.editIrasas}/>\r\n      <KomentaruAts value={this.state.irasid} />\r\n     </div>\r\n )\r\n }\r\n\r\n EditIrasasForm(props) {\r\n// initialFormState=this.state;\r\n const initialFormState = {pavadinimas: 'DFGDFGD', tekstas:'CFGFGHFG'};\r\n\r\n\r\n    const handleInputChange = event => {\r\n      const {name, value} = event.target;\r\n\r\n      setIrasas({...irasas, [name]: value})\r\n    };\r\n\r\n    const editIrasas = async event => {\r\n      event.preventDefault();\r\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\r\n\r\n    const response = await put(API_ENDPOINTS.updateIrasas+\"/\"+props.id, irasas);\r\n\r\n    props.editIrasas(response);\r\n\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={editIrasas}>\r\n      <div className=\"formlaukas\">\r\n      <label>Pavadinimas</label>\r\n      <textarea type=\"text\" cols=\"80\"  rows=\"3\" name=\"pavadinimas\" defaultValue={props.pavadinimas} onChange={handleInputChange}/>\r\n      </div>\r\n      <div  className=\"formlaukas\">\r\n     <label>Tekstas</label>\r\n       <textarea type=\"text\" cols=\"80\"  rows=\"35\" name=\"tekstas\" defaultValue={props.tekstas} onChange={handleInputChange}/>\r\n     </div>\r\n        <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n}\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}