{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { useEffect, useState } from \"react\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { async } from 'q';\nimport KomentaruAts from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\"; // function IrasasEdit(props){\n\nclass IrasasEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clicked = async event => {\n      if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + this.state.pavadinimas + \"?\")) {\n        const value = event.target.value;\n        const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + this.state.irasid;\n        const response = await delrest(urlas);\n      }\n    };\n\n    this.state = {\n      irasid: props.value,\n      url: API_ENDPOINTS.vienasirasas + \"/\" + this.irasid,\n      pavadinimas: 'pavadinimas',\n      tekstas: 'tekstass',\n      irasodata: '2019-01-01' //  editIrasas : irasas => {\n      // this.setState( {irasas.pavadinimas});\n      //   setTekstas(irasas.tekstas);\n      //      },\n\n    };\n  }\n\n  handleGet() {\n    const updateInfo = async () => {\n      const data = await fetch(\"\".concat(API_DOMAIN).concat(this.state.url)).then(result => result.json());\n      this.setState({\n        pavadinimas: data.pavadinimas\n      });\n      this.setState({\n        tekstas: data.tekstas\n      });\n      this.setState({\n        irasodata: data.irasodata\n      });\n    };\n\n    updateInfo();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Irasas--visas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"Irasas--Pavadinimas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.pavadinimas), React.createElement(\"p\", {\n      className: \"Irasas--data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.state.irasodata), React.createElement(\"hr\", {\n      className: \"Irasas--separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"Irasas--Tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \" \", this.state.tekstas), React.createElement(\"button\", {\n      value: this.state.irasid,\n      onClick: this.clicked,\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Pa\\u0161alinti \\u012Fra\\u0161a\"), React.createElement(EditIrasasForm, {\n      pavadinimas: this.state.pavadinimas,\n      tekstas: this.state.tekstas,\n      id: this.state.irasid,\n      editIrasas: this.state.editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(KomentaruAts, {\n      value: this.state.irasid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }));\n  }\n\n  EditIrasasForm(props) {\n    //  const  {pavadinimas, setPavadinimas} = props.pavadinimas;\n    //  console.log(pavadinimas +\"pavasdiniasjfldajdfl\");\n    const _ref = [{\n      pavadinimas: '',\n      tekstas: ''\n    }],\n          pavadinimas = _ref.pavadinimas,\n          setPavadinimas = _ref.setPavadinimas;\n    setPavadinimas(props.pavadinimas);\n    alert(pavadinimas);\n    const initialFormState = {\n      pavadinimas: 'DFGDFGD',\n      tekstas: 'CFGFGHFG'\n    };\n    console.log(JSON.parse(JSON.stringify(initialFormState)));\n\n    const _useState = useState(initialFormState),\n          _useState2 = _slicedToArray(_useState, 2),\n          irasas = _useState2[0],\n          setIrasas = _useState2[1];\n\n    console.log(\"initialFormState -----:\");\n    console.log(initialFormState);\n    console.log(\"irasas toks------:\");\n    console.log(irasas);\n\n    const handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      setIrasas(_objectSpread({}, irasas, {\n        [name]: value\n      }));\n    };\n\n    const editIrasas = async event => {\n      event.preventDefault();\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\n      props.editIrasas(response);\n    };\n\n    return React.createElement(\"form\", {\n      onSubmit: editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"3\",\n      name: \"pavadinimas\",\n      defaultValue: irasas.pavadinimas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Tekstas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"35\",\n      name: \"tekstas\",\n      value: irasas.tekstas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\u012Era\\u0161yti\"));\n  }\n\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","useEffect","useState","API_DOMAIN","async","KomentaruAts","put","delrest","IrasasEdit","Component","constructor","props","clicked","event","window","confirm","state","pavadinimas","value","target","urlas","deleteIrasas","irasid","response","url","vienasirasas","tekstas","irasodata","handleGet","updateInfo","data","fetch","then","result","json","setState","render","editIrasas","EditIrasasForm","setPavadinimas","alert","initialFormState","console","log","JSON","parse","stringify","irasas","setIrasas","handleInputChange","name","preventDefault","updateIrasas","id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AACA,SAAQC,aAAR,QAA4B,oBAA5B;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,SAAQC,UAAR,QAAyB,oBAAzB;AACA,SAASC,KAAT,QAAsB,GAAtB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,SAAQC,GAAR,QAAkB,cAAlB;AACA,SAAQC,OAAR,QAAsB,iBAAtB,C,CAEA;;AACA,MAAMC,UAAN,SAAyBT,KAAK,CAACU,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAAGC,KAAH,EAAW;AACpB,UAAMA,KAAN;;AADoB,SA8BnBC,OA9BmB,GA8BT,MAAMC,KAAN,IAAe;AAC1B,UAAKC,MAAM,CAACC,OAAP,CAAe,0CAAwC,KAAKC,KAAL,CAAWC,WAAnD,GAA+D,GAA9E,CAAL,EACA;AAAA,cACSC,KADT,GACkBL,KAAK,CAACM,MADxB,CACSD,KADT;AAEE,cAAME,KAAK,GAACpB,aAAa,CAACqB,YAAd,GAA2B,GAA3B,GAA+B,KAAKL,KAAL,CAAWM,MAAtD;AACA,cAAMC,QAAQ,GAAI,MAAMhB,OAAO,CAACa,KAAD,CAA/B;AACD;AACA,KArCmB;;AAEpB,SAAKJ,KAAL,GAAW;AACRM,MAAAA,MAAM,EAACX,KAAK,CAACO,KADL;AAGRM,MAAAA,GAAG,EAACxB,aAAa,CAACyB,YAAd,GAA2B,GAA3B,GAA+B,KAAKH,MAHhC;AAIRL,MAAAA,WAAW,EAAG,aAJN;AAKRS,MAAAA,OAAO,EAAE,UALD;AAMRC,MAAAA,SAAS,EAAG,YANJ,CAQT;AACA;AACA;AACA;;AAXS,KAAX;AAcD;;AAGAC,EAAAA,SAAS,GAAG;AACP,UAAMC,UAAU,GAAG,YAAY;AAC3B,YAAMC,IAAI,GAAG,MAAMC,KAAK,WAAI5B,UAAJ,SAAiB,KAAKa,KAAL,CAAWQ,GAA5B,EAAL,CACdQ,IADc,CACTC,MAAM,IAAIA,MAAM,CAACC,IAAP,EADD,CAAnB;AAED,WAAKC,QAAL,CAAc;AAAClB,QAAAA,WAAW,EAAEa,IAAI,CAACb;AAAnB,OAAd;AACA,WAAKkB,QAAL,CAAc;AAACT,QAAAA,OAAO,EAAEI,IAAI,CAACJ;AAAf,OAAd;AACA,WAAKS,QAAL,CAAc;AAACR,QAAAA,SAAS,EAAEG,IAAI,CAACH;AAAjB,OAAd;AACU,KANb;;AAOAE,IAAAA,UAAU;AACb;;AAWJO,EAAAA,MAAM,GAAI;AACT,WACG;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC,KAAKpB,KAAL,CAAWC,WAAhD,CADJ,EAEI;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6B,KAAKD,KAAL,CAAWW,SAAxC,CAFJ,EAGI;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAG,MAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAiC,KAAKX,KAAL,CAAWU,OAA5C,CAJJ,EAKI;AAAS,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWM,MAA3B;AAAmC,MAAA,OAAO,EAAE,KAAKV,OAAjD;AAA0D,MAAA,SAAS,EAAC,YAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCALJ,EAMG,oBAAC,cAAD;AAAiB,MAAA,WAAW,EAAE,KAAKI,KAAL,CAAWC,WAAzC;AAAsD,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWU,OAA1E;AAAmF,MAAA,EAAE,EAAE,KAAKV,KAAL,CAAWM,MAAlG;AAA0G,MAAA,UAAU,EAAE,KAAKN,KAAL,CAAWqB,UAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANH,EAOC,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWM,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPD,CADH;AAWA;;AAEDgB,EAAAA,cAAc,CAAC3B,KAAD,EAAQ;AACvB;AACA;AAFuB,iBAGiB,CAAC;AAACM,MAAAA,WAAW,EAAE,EAAd;AAAkBS,MAAAA,OAAO,EAAE;AAA3B,KAAD,CAHjB;AAAA,UAGdT,WAHc,QAGdA,WAHc;AAAA,UAGDsB,cAHC,QAGDA,cAHC;AAItBA,IAAAA,cAAc,CAAC5B,KAAK,CAACM,WAAP,CAAd;AACAuB,IAAAA,KAAK,CAACvB,WAAD,CAAL;AACC,UAAMwB,gBAAgB,GAAG;AAACxB,MAAAA,WAAW,EAAE,SAAd;AAAyBS,MAAAA,OAAO,EAAC;AAAjC,KAAzB;AAGFgB,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,gBAAf,CAAX,CAAZ;;AATuB,sBAUSvC,QAAQ,CAACuC,gBAAD,CAVjB;AAAA;AAAA,UAUZM,MAVY;AAAA,UAUJC,SAVI;;AAcnBN,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AAEAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,gBAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;;AAEA,UAAME,iBAAiB,GAAGpC,KAAK,IAAI;AAAA,4BACXA,KAAK,CAACM,MADK;AAAA,YAC1B+B,IAD0B,iBAC1BA,IAD0B;AAAA,YACpBhC,KADoB,iBACpBA,KADoB;AAGjC8B,MAAAA,SAAS,mBAAKD,MAAL;AAAa,SAACG,IAAD,GAAQhC;AAArB,SAAT;AACD,KAJD;;AAMA,UAAMmB,UAAU,GAAG,MAAMxB,KAAN,IAAe;AAChCA,MAAAA,KAAK,CAACsC,cAAN;AACA,UAAI,CAACJ,MAAM,CAAC9B,WAAR,IAAuB,CAAC8B,MAAM,CAACrB,OAAnC,EAA4C;AAE9C,YAAMH,QAAQ,GAAG,MAAMjB,GAAG,CAACN,aAAa,CAACoD,YAAd,GAA2B,GAA3B,GAA+BzC,KAAK,CAAC0C,EAAtC,EAA0CN,MAA1C,CAA1B;AAEApC,MAAAA,KAAK,CAAC0B,UAAN,CAAiBd,QAAjB;AAEC,KARD;;AAUA,WACE;AAAM,MAAA,QAAQ,EAAEc,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,EAEA;AAAU,MAAA,IAAI,EAAC,MAAf;AAAsB,MAAA,IAAI,EAAC,IAA3B;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAA0C,MAAA,IAAI,EAAC,aAA/C;AAA6D,MAAA,YAAY,EAAEU,MAAM,CAAC9B,WAAlF;AAA+F,MAAA,QAAQ,EAAEgC,iBAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADA,EAKA;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADC,EAEC;AAAU,MAAA,IAAI,EAAC,MAAf;AAAsB,MAAA,IAAI,EAAC,IAA3B;AAAiC,MAAA,IAAI,EAAC,IAAtC;AAA2C,MAAA,IAAI,EAAC,SAAhD;AAA0D,MAAA,KAAK,EAAEF,MAAM,CAACrB,OAAxE;AAAiF,MAAA,QAAQ,EAAEuB,iBAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CALA,EASE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BATF,CADF;AAcD;;AAxGsC;;AA0GzC,eAAezC,UAAf","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport {API_ENDPOINTS} from \"../utils/constants\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {API_DOMAIN} from \"../utils/constants\";\r\nimport { async } from 'q';\r\nimport KomentaruAts from '../KomentaruAts';\r\nimport {put} from \"../utils/put\";\r\nimport {delrest} from \"../utils/delete\";\r\n\r\n// function IrasasEdit(props){\r\nclass IrasasEdit extends React.Component {\r\n  constructor ( props ) {\r\n    super(props);\r\n    this.state={\r\n       irasid:props.value,\r\n        \r\n       url:API_ENDPOINTS.vienasirasas+\"/\"+this.irasid,\r\n       pavadinimas : 'pavadinimas',\r\n       tekstas :'tekstass',\r\n       irasodata : '2019-01-01',\r\n  \r\n      //  editIrasas : irasas => {\r\n      // this.setState( {irasas.pavadinimas});\r\n      //   setTekstas(irasas.tekstas);\r\n      //      },\r\n  \r\n          };\r\n  }\r\n\r\n\r\n   handleGet() {\r\n        const updateInfo = async () => {\r\n            const data = await fetch(`${API_DOMAIN}${this.state.url}`)\r\n                .then(result => result.json())\r\n           this.setState({pavadinimas: data.pavadinimas});\r\n           this.setState({tekstas: data.tekstas});\r\n           this.setState({irasodata: data.irasodata});\r\n                    };\r\n        updateInfo();\r\n    }; \r\n    \r\n     clicked = async event => {\r\n    if(  window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \"+this.state.pavadinimas+\"?\"))\r\n    {\r\n      const {value} = event.target;\r\n      const urlas=API_ENDPOINTS.deleteIrasas+\"/\"+this.state.irasid\r\n      const response  = await delrest(urlas)\r\n    }\r\n    }\r\n\r\n render () {\r\n  return (\r\n     <div className=\"Irasas--visas\">\r\n         <h1 className=\"Irasas--Pavadinimas\">{this.state.pavadinimas}</h1>\r\n         <p className=\"Irasas--data\">{this.state.irasodata}</p>\r\n         <hr className=\"Irasas--separator\" />\r\n         <p className=\"Irasas--Tekstas\"> {this.state.tekstas}</p>\r\n         <button  value={this.state.irasid} onClick={this.clicked} className=\"formlaukas\">Pašalinti įraša</button>\r\n        <EditIrasasForm  pavadinimas={this.state.pavadinimas} tekstas={this.state.tekstas} id={this.state.irasid} editIrasas={this.state.editIrasas}/>\r\n      <KomentaruAts value={this.state.irasid} />\r\n     </div>\r\n )\r\n }\r\n\r\n EditIrasasForm(props) {\r\n//  const  {pavadinimas, setPavadinimas} = props.pavadinimas;\r\n//  console.log(pavadinimas +\"pavasdiniasjfldajdfl\");\r\n const  {pavadinimas, setPavadinimas} = [{pavadinimas: '', tekstas: ''}];\r\n setPavadinimas(props.pavadinimas);\r\n alert(pavadinimas);\r\n  const initialFormState = {pavadinimas: 'DFGDFGD', tekstas:'CFGFGHFG'};\r\n \r\n\r\nconsole.log(JSON.parse(JSON.stringify(initialFormState)));\r\n    const [irasas, setIrasas] = useState(initialFormState);\r\n    \r\n\r\n\r\n    console.log(\"initialFormState -----:\")\r\n\r\n    console.log(initialFormState);\r\n    console.log(\"irasas toks------:\")\r\n    console.log(irasas);\r\n\r\n    const handleInputChange = event => {\r\n      const {name, value} = event.target;\r\n\r\n      setIrasas({...irasas, [name]: value})\r\n    };\r\n\r\n    const editIrasas = async event => {\r\n      event.preventDefault();\r\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\r\n\r\n    const response = await put(API_ENDPOINTS.updateIrasas+\"/\"+props.id, irasas);\r\n\r\n    props.editIrasas(response);\r\n\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={editIrasas}>\r\n      <div className=\"formlaukas\">\r\n      <label>Pavadinimas</label>\r\n      <textarea type=\"text\" cols=\"80\"  rows=\"3\" name=\"pavadinimas\" defaultValue={irasas.pavadinimas} onChange={handleInputChange}/>\r\n      </div>\r\n      <div  className=\"formlaukas\">\r\n     <label>Tekstas</label>\r\n       <textarea type=\"text\" cols=\"80\"  rows=\"35\" name=\"tekstas\" value={irasas.tekstas} onChange={handleInputChange}/>\r\n     </div>\r\n        <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n}\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}