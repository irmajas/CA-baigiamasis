{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\KomentaruAts\\\\index.js\";\nimport React, { useState } from 'react';\nimport './index.css';\nimport { useFetch } from \"../utils/fetch-hook\";\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { put } from \"../utils/put\";\n\nclass Komentarai extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      komentarailist: [],\n      loadingis: false\n    };\n    this.dochange = this.dochange.bind(this);\n  }\n\n  componentDidMount(props) {\n    const url = API_ENDPOINTS.komentaras + \"/\" + this.props.value;\n    this.setState({\n      loadingis: true\n    });\n    fetch(\"\".concat(API_DOMAIN).concat(url)).then(response => response.json()).then(data => {\n      this.setState({\n        komentarailist: [],\n        isloading: false\n      });\n    }).catch(e => {\n      console.log(e);\n      this.setState(_objectSpread({}, this.state, {\n        isFetching: false\n      }));\n    });\n  }\n\n  componentDidUpdate(props) {\n    const _this$props = this.props,\n          refresh = _this$props.refresh,\n          value = _this$props.value;\n    const url = API_ENDPOINTS.komentaras + \"/\" + value;\n\n    if (props.refresh !== refresh) {\n      this.setState({\n        loadingis: true\n      });\n      fetch(\"\".concat(API_DOMAIN).concat(url)).then(response => response.json()).then(data => {\n        this.setState({\n          komentarailist: data,\n          isloading: false\n        });\n      });\n    }\n  }\n\n  dochange(id, e) {\n    let eev = e.currentTarget;\n    console.log(\"id is  \" + id);\n    console.log(this.state.komentarailist[id - 1]);\n    console.log(eev);\n    this.setState(prevState => ({\n      komentarailist: _objectSpread({}, prevState.komentarailist, {\n        [prevState.komentarailist[id - 1].atsakymas]: e.target.value\n      }),\n      isloading: false\n    }));\n    console.log(this.state.komentarailist);\n  }\n\n  render() {\n    const komentarailistas = this.state.komentarailistas;\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Komentarai\"), this.state.isloading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Loading...\") : komentarailistas.map(data => React.createElement(\"div\", {\n      key: data.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \" \", data.autorius, \"  \", data.komentdata, \" \", data.id), React.createElement(\"div\", {\n      className: \"tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, data.komentaras), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"J\\u016Bs\\u0173 atsakymas \"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"atsakymas\",\n      key: data.id,\n      value: data.atsakymas,\n      onChange: e => this.dochange(data.id, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Atsakyti\")))));\n  }\n\n}\n\nexport default Komentarai;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\KomentaruAts\\index.js"],"names":["React","useState","useFetch","API_ENDPOINTS","API_DOMAIN","put","Komentarai","Component","constructor","props","state","komentarailist","loadingis","dochange","bind","componentDidMount","url","komentaras","value","setState","fetch","then","response","json","data","isloading","catch","e","console","log","isFetching","componentDidUpdate","refresh","id","eev","currentTarget","prevState","atsakymas","target","render","komentarailistas","map","autorius","komentdata"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './index.css';\r\nimport { useFetch } from \"../utils/fetch-hook\";\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\nimport { API_DOMAIN } from \"../utils/constants\";\r\nimport { put } from \"../utils/put\";\r\n\r\n\r\nclass Komentarai extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      komentarailist: [],\r\n      loadingis: false\r\n\r\n    }\r\n    this.dochange = this.dochange.bind(this)\r\n  }\r\n  componentDidMount(props) {\r\n\r\n    const url = API_ENDPOINTS.komentaras + \"/\" + this.props.value;\r\n    this.setState({ loadingis: true })\r\n    fetch(`${API_DOMAIN}${url}`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.setState({\r\n          komentarailist:[],\r\n          isloading: false\r\n        })\r\n\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n        this.setState({ ...this.state, isFetching: false });\r\n      });\r\n\r\n  }\r\n  componentDidUpdate(props) {\r\n\r\n    const { refresh, value } = this.props;\r\n    const url = API_ENDPOINTS.komentaras + \"/\" + value;\r\n    if (props.refresh !== refresh) {\r\n      this.setState({ loadingis: true })\r\n      fetch(`${API_DOMAIN}${url}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          this.setState({\r\n            komentarailist: data,\r\n            isloading: false\r\n          })\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  dochange(id, e) {\r\n  let eev=e.currentTarget\r\n    console.log(\"id is  \"+id)\r\n   console.log(this.state.komentarailist[id-1])\r\n   console.log(eev)\r\n      this.setState(prevState => ({\r\n        komentarailist: {\r\n            ...prevState.komentarailist,\r\n            [prevState.komentarailist[id-1].atsakymas]: e.target.value,\r\n        },\r\n        isloading: false\r\n    }));\r\n    console.log(this.state.komentarailist)\r\n  }\r\n  render() {\r\n    const  komentarailistas  = this.state.komentarailistas;\r\n\r\n    return (\r\n      <section>\r\n        <h4>Komentarai</h4>\r\n        {this.state.isloading ? <div>Loading...</div> :\r\n          komentarailistas.map(data =>\r\n            (\r\n              <div key={data.id}>\r\n\r\n                <div className=\"data\"> {data.autorius}  {data.komentdata} {data.id}</div>\r\n                <div className=\"tekstas\">{data.komentaras}</div>\r\n                 <div className=\"formlaukas\">\r\n                  <label>Jūsų atsakymas </label>\r\n                  <input type=\"text\" name=\"atsakymas\" key={data.id} value={data.atsakymas} onChange={(e) => this.dochange(data.id, e)} />\r\n                  <button className=\"formlaukas\">Atsakyti</button>\r\n                </div>\r\n\r\n              </div>\r\n            )\r\n          )\r\n        }\r\n      </section>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Komentarai\r\n"]},"metadata":{},"sourceType":"module"}