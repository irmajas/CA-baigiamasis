{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { useEffect, useState } from \"react\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { async } from 'q';\nimport KomentaruAts from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\"; // function IrasasEdit(props){\n\nclass IrasasEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clicked = async event => {\n      if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + pavadinimas + \"?\")) {\n        const value = event.target.value;\n        const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + irasid;\n        const response = await delrest(urlas);\n      }\n    };\n\n    this.state = {\n      irasid: props.value,\n      url: API_ENDPOINTS.vienasirasas + \"/\" + irasid,\n      pavadinimas: 'pavadinimas',\n      tekstas: 'tekstass',\n      irasodata: '2019-01-01' //  editIrasas : irasas => {\n      // this.setState( {irasas.pavadinimas});\n      //   setTekstas(irasas.tekstas);\n      //      },\n\n    };\n  }\n\n  handleGet() {\n    const updateInfo = async () => {\n      const data = await fetch(\"\".concat(API_DOMAIN).concat(API_ENDPOINTS.vienasirasas + \"/\" + props.value)).then(result => result.json());\n      setPavadinimas(data.pavadinimas);\n      setTekstas(data.tekstas);\n      setIrasoata(data.irasodata);\n    };\n\n    updateInfo();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Irasas--visas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"Irasas--Pavadinimas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, pavadinimas), React.createElement(\"p\", {\n      className: \"Irasas--data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, irasodata), React.createElement(\"hr\", {\n      className: \"Irasas--separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"Irasas--Tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \" \", tekstas), React.createElement(\"button\", {\n      value: irasid,\n      onClick: clicked,\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Pa\\u0161alinti \\u012Fra\\u0161a\"), React.createElement(EditIrasasForm, {\n      pavadinimas: pavadinimas,\n      tekstas: tekstas,\n      id: irasid,\n      editIrasas: editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(KomentaruAts, {\n      value: irasid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }));\n  }\n\n  EditIrasasForm(props) {\n    //  const  {pavadinimas, setPavadinimas} = props.pavadinimas;\n    //  console.log(pavadinimas +\"pavasdiniasjfldajdfl\");\n    const _ref = [{\n      pavadinimas: '',\n      tekstas: ''\n    }],\n          pavadinimas = _ref.pavadinimas,\n          setPavadinimas = _ref.setPavadinimas;\n    setPavadinimas(props.pavadinimas);\n    alert(pavadinimas);\n    const initialFormState = {\n      pavadinimas: 'DFGDFGD',\n      tekstas: 'CFGFGHFG'\n    };\n    console.log(JSON.parse(JSON.stringify(initialFormState)));\n\n    const _useState = useState(initialFormState),\n          _useState2 = _slicedToArray(_useState, 2),\n          irasas = _useState2[0],\n          setIrasas = _useState2[1];\n\n    console.log(\"initialFormState -----:\");\n    console.log(initialFormState);\n    console.log(\"irasas toks------:\");\n    console.log(irasas);\n\n    const handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      setIrasas(_objectSpread({}, irasas, {\n        [name]: value\n      }));\n    };\n\n    const editIrasas = async event => {\n      event.preventDefault();\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\n      props.editIrasas(response);\n    };\n\n    return React.createElement(\"form\", {\n      onSubmit: editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"3\",\n      name: \"pavadinimas\",\n      defaultValue: irasas.pavadinimas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Tekstas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"35\",\n      name: \"tekstas\",\n      value: irasas.tekstas,\n      onChange: handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\u012Era\\u0161yti\"));\n  }\n\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","useEffect","useState","API_DOMAIN","async","KomentaruAts","put","delrest","IrasasEdit","Component","constructor","props","clicked","event","window","confirm","pavadinimas","value","target","urlas","deleteIrasas","irasid","response","state","url","vienasirasas","tekstas","irasodata","handleGet","updateInfo","data","fetch","then","result","json","setPavadinimas","setTekstas","setIrasoata","render","editIrasas","EditIrasasForm","alert","initialFormState","console","log","JSON","parse","stringify","irasas","setIrasas","handleInputChange","name","preventDefault","updateIrasas","id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport {API_ENDPOINTS} from \"../utils/constants\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {API_DOMAIN} from \"../utils/constants\";\r\nimport { async } from 'q';\r\nimport KomentaruAts from '../KomentaruAts';\r\nimport {put} from \"../utils/put\";\r\nimport {delrest} from \"../utils/delete\";\r\n\r\n// function IrasasEdit(props){\r\nclass IrasasEdit extends React.Component {\r\n  constructor ( props ) {\r\n    super(props);\r\n    this.state={\r\n       irasid:props.value,\r\n        \r\n       url:API_ENDPOINTS.vienasirasas+\"/\"+irasid,\r\n       pavadinimas : 'pavadinimas',\r\n       tekstas :'tekstass',\r\n       irasodata : '2019-01-01',\r\n  \r\n      //  editIrasas : irasas => {\r\n      // this.setState( {irasas.pavadinimas});\r\n      //   setTekstas(irasas.tekstas);\r\n      //      },\r\n  \r\n          };\r\n  }\r\n\r\n\r\n   handleGet() {\r\n        const updateInfo = async () => {\r\n            const data = await fetch(`${API_DOMAIN}${API_ENDPOINTS.vienasirasas+\"/\"+props.value}`)\r\n                .then(result => result.json())\r\n            setPavadinimas(data.pavadinimas);\r\n            setTekstas(data.tekstas);\r\n            setIrasoata(data.irasodata);\r\n                    };\r\n        updateInfo();\r\n    }; \r\n    \r\n     clicked = async event => {\r\n    if(  window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \"+pavadinimas+\"?\"))\r\n    {\r\n      const {value} = event.target;\r\n      const urlas=API_ENDPOINTS.deleteIrasas+\"/\"+irasid\r\n      const response  = await delrest(urlas)\r\n    }\r\n    }\r\n\r\n render () {\r\n  return (\r\n     <div className=\"Irasas--visas\">\r\n         <h1 className=\"Irasas--Pavadinimas\">{pavadinimas}</h1>\r\n         <p className=\"Irasas--data\">{irasodata}</p>\r\n         <hr className=\"Irasas--separator\" />\r\n         <p className=\"Irasas--Tekstas\"> {tekstas}</p>\r\n         <button  value={irasid} onClick={clicked} className=\"formlaukas\">Pašalinti įraša</button>\r\n        <EditIrasasForm  pavadinimas={pavadinimas} tekstas={tekstas} id={irasid} editIrasas={editIrasas}/>\r\n      <KomentaruAts value={irasid} />\r\n     </div>\r\n )\r\n }\r\n\r\n EditIrasasForm(props) {\r\n//  const  {pavadinimas, setPavadinimas} = props.pavadinimas;\r\n//  console.log(pavadinimas +\"pavasdiniasjfldajdfl\");\r\n const  {pavadinimas, setPavadinimas} = [{pavadinimas: '', tekstas: ''}];\r\n setPavadinimas(props.pavadinimas);\r\n alert(pavadinimas);\r\n  const initialFormState = {pavadinimas: 'DFGDFGD', tekstas:'CFGFGHFG'};\r\n \r\n\r\nconsole.log(JSON.parse(JSON.stringify(initialFormState)));\r\n    const [irasas, setIrasas] = useState(initialFormState);\r\n    \r\n\r\n\r\n    console.log(\"initialFormState -----:\")\r\n\r\n    console.log(initialFormState);\r\n    console.log(\"irasas toks------:\")\r\n    console.log(irasas);\r\n\r\n    const handleInputChange = event => {\r\n      const {name, value} = event.target;\r\n\r\n      setIrasas({...irasas, [name]: value})\r\n    };\r\n\r\n    const editIrasas = async event => {\r\n      event.preventDefault();\r\n      if (!irasas.pavadinimas || !irasas.tekstas) return;\r\n\r\n    const response = await put(API_ENDPOINTS.updateIrasas+\"/\"+props.id, irasas);\r\n\r\n    props.editIrasas(response);\r\n\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={editIrasas}>\r\n      <div className=\"formlaukas\">\r\n      <label>Pavadinimas</label>\r\n      <textarea type=\"text\" cols=\"80\"  rows=\"3\" name=\"pavadinimas\" defaultValue={irasas.pavadinimas} onChange={handleInputChange}/>\r\n      </div>\r\n      <div  className=\"formlaukas\">\r\n     <label>Tekstas</label>\r\n       <textarea type=\"text\" cols=\"80\"  rows=\"35\" name=\"tekstas\" value={irasas.tekstas} onChange={handleInputChange}/>\r\n     </div>\r\n        <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n}\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}