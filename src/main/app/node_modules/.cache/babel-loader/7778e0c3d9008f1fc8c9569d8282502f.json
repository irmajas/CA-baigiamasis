{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\irmaj\\\\Desktop\\\\Baigiamasis\\\\ca-uzduotis\\\\src\\\\main\\\\app\\\\src\\\\components\\\\IrasasEdit\\\\index.js\";\nimport React from 'react';\nimport './index.css';\nimport { API_ENDPOINTS } from \"../utils/constants\";\nimport { useEffect, useState } from \"react\";\nimport { API_DOMAIN } from \"../utils/constants\";\nimport { async } from 'q';\nimport KomentaruAts from '../KomentaruAts';\nimport { put } from \"../utils/put\";\nimport { delrest } from \"../utils/delete\"; // function IrasasEdit(props){\n\nclass IrasasEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clicked = async event => {\n      if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + this.state.pavadinimas + \"?\")) {\n        const value = event.target.value;\n        const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + this.state.irasid;\n        const response = await delrest(urlas);\n      }\n    };\n\n    this.state = {\n      irasid: props.value,\n      url: API_ENDPOINTS.vienasirasas + \"/\",\n      irasas: {\n        pavadinimas: 'pavadinimas',\n        tekstas: 'tekstass',\n        irasodata: '2019-01-01'\n      } //  editIrasas : irasas => {\n      // this.setState( {irasas.pavadinimas});\n      //   setTekstas(irasas.tekstas);\n      //      },\n\n    };\n    this.handleGet();\n  }\n\n  handleGet() {\n    const updateInfo = async () => {\n      const data = await fetch(\"\".concat(API_DOMAIN).concat(this.state.url + this.state.irasid)).then(result => result.json());\n      this.setState({\n        pavadinimas: data.pavadinimas\n      });\n      this.setState({\n        tekstas: data.tekstas\n      });\n      this.setState({\n        irasodata: data.irasodata\n      });\n    };\n\n    updateInfo();\n  }\n\n  EditIrasasForm(props) {\n    // initialFormState=this.state;\n    console.log(\"-----------------------------\" + props.irasas);\n    const initialFormState = {\n      pavadinimas: 'DFGDFGD',\n      tekstas: 'CFGFGHFG'\n    };\n\n    const handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState(_objectSpread({}, this.state.irasas, {\n        [name]: value\n      }));\n    };\n\n    const editIrasas = async event => {\n      event.preventDefault();\n      console.log(); // if (!props.pavadinimas || !props.tekstas) return;\n\n      const irasas = JSON.stringify(initialFormState);\n      console.log(\"++++++++++++++++++++++++++++++++++++\" + irasas);\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\n      props.editIrasas(response);\n    };\n\n    return React.createElement(\"form\", {\n      onSubmit: editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Pavadinimas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"3\",\n      name: \"pavadinimas\",\n      defaultValue: initialFormState.pavadinimas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Tekstas\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      cols: \"80\",\n      rows: \"35\",\n      name: \"tekstas\",\n      defaultValue: initialFormState.tekstas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u012Era\\u0161yti\"));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Irasas--visas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"Irasas--Pavadinimas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.pavadinimas), React.createElement(\"p\", {\n      className: \"Irasas--data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.state.irasodata), React.createElement(\"hr\", {\n      className: \"Irasas--separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"Irasas--Tekstas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \" \", this.state.tekstas), React.createElement(\"button\", {\n      value: this.state.irasid,\n      onClick: this.clicked,\n      className: \"formlaukas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Pa\\u0161alinti \\u012Fra\\u0161a\"), React.createElement(this.EditIrasasForm, {\n      irasas: this.irasas,\n      tekstas: this.state.tekstas,\n      id: this.state.irasid,\n      editIrasas: this.state.editIrasas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(KomentaruAts, {\n      value: this.state.irasid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default IrasasEdit;","map":{"version":3,"sources":["C:\\Users\\irmaj\\Desktop\\Baigiamasis\\ca-uzduotis\\src\\main\\app\\src\\components\\IrasasEdit\\index.js"],"names":["React","API_ENDPOINTS","useEffect","useState","API_DOMAIN","async","KomentaruAts","put","delrest","IrasasEdit","Component","constructor","props","clicked","event","window","confirm","state","pavadinimas","value","target","urlas","deleteIrasas","irasid","response","url","vienasirasas","irasas","tekstas","irasodata","handleGet","updateInfo","data","fetch","then","result","json","setState","EditIrasasForm","console","log","initialFormState","handleInputChange","name","editIrasas","preventDefault","JSON","stringify","updateIrasas","id","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\nimport { API_ENDPOINTS } from \"../utils/constants\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { API_DOMAIN } from \"../utils/constants\";\r\nimport { async } from 'q';\r\nimport KomentaruAts from '../KomentaruAts';\r\nimport { put } from \"../utils/put\";\r\nimport { delrest } from \"../utils/delete\";\r\n\r\n// function IrasasEdit(props){\r\nclass IrasasEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      irasid: props.value,\r\n      url: API_ENDPOINTS.vienasirasas + \"/\" ,\r\n      irasas:{\r\n      pavadinimas: 'pavadinimas',\r\n      tekstas: 'tekstass',\r\n      irasodata: '2019-01-01'\r\n      },\r\n\r\n      //  editIrasas : irasas => {\r\n      // this.setState( {irasas.pavadinimas});\r\n      //   setTekstas(irasas.tekstas);\r\n      //      },\r\n\r\n    };\r\n    this.handleGet();\r\n  }\r\n\r\n\r\n  handleGet() {\r\n    const updateInfo = async () => {\r\n      const data = await fetch(`${API_DOMAIN}${this.state.url+this.state.irasid}`)\r\n        .then(result => result.json())\r\n      this.setState({ pavadinimas: data.pavadinimas });\r\n      this.setState({ tekstas: data.tekstas });\r\n      this.setState({ irasodata: data.irasodata });\r\n    };\r\n    updateInfo();\r\n  };\r\n\r\n  clicked = async event => {\r\n    if (window.confirm(\"Ar tikrai norite pašalinti šį įrašą: \" + this.state.pavadinimas + \"?\")) {\r\n      const { value } = event.target;\r\n      const urlas = API_ENDPOINTS.deleteIrasas + \"/\" + this.state.irasid\r\n      const response = await delrest(urlas)\r\n    }\r\n  }\r\n  EditIrasasForm(props) {\r\n    // initialFormState=this.state;\r\n    console.log(\"-----------------------------\"+props.irasas);\r\n     const initialFormState = { pavadinimas: 'DFGDFGD', tekstas: 'CFGFGHFG' };\r\n\r\n  \r\n    const handleInputChange = event => {\r\n      const { name, value } = event.target;\r\n  \r\n   this.setState({ ...this.state.irasas, [name]: value })\r\n    };\r\n\r\n    const editIrasas = async event => {\r\n      event.preventDefault();\r\n      console.log()\r\n      // if (!props.pavadinimas || !props.tekstas) return;\r\n      const irasas=JSON.stringify(initialFormState);\r\n      console.log(\"++++++++++++++++++++++++++++++++++++\"+irasas);\r\n      const response = await put(API_ENDPOINTS.updateIrasas + \"/\" + props.id, irasas);\r\n\r\n      props.editIrasas(response);\r\n\r\n    };\r\n\r\n    return (\r\n      <form onSubmit={editIrasas}>\r\n        <div className=\"formlaukas\">\r\n          <label>Pavadinimas</label>\r\n          <textarea type=\"text\" cols=\"80\" rows=\"3\" name=\"pavadinimas\" defaultValue={initialFormState.pavadinimas}   />\r\n        </div>\r\n        <div className=\"formlaukas\">\r\n          <label>Tekstas</label>\r\n          <textarea type=\"text\" cols=\"80\" rows=\"35\" name=\"tekstas\" defaultValue={initialFormState.tekstas}  />\r\n        </div>\r\n        <button className=\"formlaukas\">Įrašyti</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"Irasas--visas\">\r\n        <h1 className=\"Irasas--Pavadinimas\">{this.state.pavadinimas}</h1>\r\n        <p className=\"Irasas--data\">{this.state.irasodata}</p>\r\n        <hr className=\"Irasas--separator\" />\r\n        <p className=\"Irasas--Tekstas\"> {this.state.tekstas}</p>\r\n        <button value={this.state.irasid} onClick={this.clicked} className=\"formlaukas\">Pašalinti įraša</button>\r\n        <this.EditIrasasForm irasas={this.irasas} tekstas={this.state.tekstas} id={this.state.irasid} editIrasas={this.state.editIrasas} />\r\n        <KomentaruAts value={this.state.irasid} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\nexport default IrasasEdit;\r\n"]},"metadata":{},"sourceType":"module"}